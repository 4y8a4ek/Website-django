{% load static %}
<!DOCTYPE html>
<html lang="ru" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–ª–∞–≤–Ω–∞—è</title>
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>
<body>

<!-- –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω–∞—è –ø–∞–Ω–µ–ª—å -->
<div class="navbar">
    <a href="/" class="logo-link">
        <img src="{% static 'images/logo.png' %}" alt="–õ–æ–≥–æ—Ç–∏–ø" class="logo-img">
    </a>

    <a href="/" class="home-btn">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="{% url 'courses:course_list' %}" class="home-btn">–ö—É—Ä—Å—ã</a>

    {% if user.is_authenticated %}
    <div class="profile-menu">
        <a href="#" class="home-btn" onclick="toggleProfileMenu(event)">–ü—Ä–æ—Ñ–∏–ª—å</a>
        <div class="profile-dropdown">
            <img src="{{ profile.photo.url }}" alt="–ê–≤–∞—Ç–∞—Ä">  <!-- –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ `profile.photo` –¥–æ—Å—Ç—É–ø–Ω–æ -->
            <p><strong>{{ user.name }}</strong></p>
            <p>‚≠ê Stars: {{ profile.stars }}</p>
            <p>üî• EXP: {{ profile.exp }}</p>
            <a href="{% url 'profile_app:profile' %}" class="profile-btn">–ü–µ—Ä–µ–π—Ç–∏ –≤ –ø—Ä–æ—Ñ–∏–ª—å</a>
        </div>
    </div>
    <a href="{% url 'user_auth:logout' %}" class="home-btn">–í—ã–π—Ç–∏</a>
    {% else %}
    <a href="{% url 'user_auth:login' %}" class="home-btn">–í–æ–π—Ç–∏</a>
    {% endif %}

    <button class="theme-btn" onclick="toggleTheme()">üåì</button>
</div>

<!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
<div class="main-content">
    <h1>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –æ–±—É—á–∞—é—â—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É!</h1>
    <p>–ó–¥–µ—Å—å –≤—ã –Ω–∞–π–¥–µ—Ç–µ —É–≤–ª–µ–∫–∞—Ç–µ–ª—å–Ω—ã–µ –∫—É—Ä—Å—ã, –∑–∞–¥–∞–Ω–∏—è –∏ —Ç–µ—Å—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥—É—Ç –≤–∞–º —Ä–∞—Å—Ç–∏ –∏ –ø—Ä–æ–∫–∞—á–∏–≤–∞—Ç—å –Ω–∞–≤—ã–∫–∏.</p>
    <img src="{% static 'images/learning.jpg' %}" alt="–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—É—á–µ–Ω–∏—è">
    <p>–ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π—Ç–µ ‚≠ê –∑–≤–µ–∑–¥—ã –∏ üî• –æ–ø—ã—Ç –∑–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ–º –∏ –∫—É—Ä—Å–æ–≤.</p>
</div>

<!-- –§—É—Ç–µ—Ä -->
<div class="footer">
    <p>¬© 2025 Your Website. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
    <p><a href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a> | <a href="#">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></p>
</div>

<script>
    function toggleTheme() {
        const html = document.documentElement;
        const current = html.getAttribute('data-theme');
        const next = current === 'light' ? 'dark' : 'light';
        html.setAttribute('data-theme', next);
        localStorage.setItem('theme', next);
    }

    function toggleProfileMenu(event) {
        event.preventDefault();  // —á—Ç–æ–±—ã —Å—Å—ã–ª–∫–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∞
        const menu = document.querySelector('.profile-dropdown');
        menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    }

    window.addEventListener('DOMContentLoaded', () => {
        const saved = localStorage.getItem('theme');
        if (saved) {
            document.documentElement.setAttribute('data-theme', saved);
        }
    });
</script>

</body>
</html>
